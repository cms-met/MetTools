{ 
	"activeTrainings" : ["phiTraining", "recoilTraining", "CovU1", "CovU2", "CovApply"],
		"activeReweightings" : ["flattenpT"],
		"inputFile": "test/output.root",
		"Folder" : "MAPAnalyzer/t",
		"weightfilename" : "weightfile.root",
		"flattenpT" :
		{
			"desc" : "Weight to get flat pT distribution",
			"name" : "flatPtWeight",
			"flattenVariable" : "Boson_Pt",
			"weight" : "select&&nCombinations==1",
			"eventsPerBin" : 300,
			"type" : 1
		},
		"phiTraining":
		{
			"mode" : 1,
			"friends" : [],
			"desc" : "First training on phi",
			"apply_MVA_to" : "recoilslimmedMETs",
			"weight" : "select&&nCombinations==1",
			"name" : "PhiCorrectedRecoil",
			"folder" : "MAPAnalyzer/t",
			"minEvents" : 250,
			"shrinkage" : 0.05,
			"minCutSignificance" : 2.0,
			"nTrees" : 1000,
			"targetVariable" : "(Boson_Phi-recoilpatpfMETT1_Phi+TMath::Pi()) - 2.*TMath::Pi()*((Boson_Phi-recoilpatpfMETT1_Phi) > 0)",
			"trainingVariables" : 
				[	
				"recoilpatpfMETT1_Pt",
			"recoilpatpfMETT1_Phi",
			"recoilpatpfMETT1_sumEt",
			"recoilslimmedMETsPuppi_Pt",
			"recoilslimmedMETsPuppi_Phi",
			"recoilslimmedMETsPuppi_sumEtFraction",
			"recoilpatpfTrackMET_Pt",
			"recoilpatpfTrackMET_Phi",
			"recoilpatpfTrackMET_sumEtFraction",
			"recoilpatpfPUMET_Pt",
			"recoilpatpfPUMET_Phi",
			"recoilpatpfPUMET_sumEtFraction",
			"recoilpatpfNoPUMET_Pt",
			"recoilpatpfNoPUMET_Phi",
			"recoilpatpfNoPUMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_Pt",
			"recoilpatpfPUCorrectedMET_Phi",
			"Jet0_Pt", "Jet0_Eta", "Jet0_Phi",
			"Jet1_Pt", "Jet1_Eta", "Jet1_Phi",
			"NCleanedJets",
			"NVertex"
				]
		},
		"recoilTraining":
		{
			"mode" : 2,
			"friends" : ["PhiCorrectedRecoil"],
			"desc" : "Second training on Recoil",
			"apply_MVA_to" : "PhiCorrectedRecoil",
			"weight" : "flatPtWeight*(select)*(nCombinations==1)",
			"name" : "LongZCorrectedRecoil",
			"folder" : "Flat",
			"minEvents" : 250,
			"shrinkage" : 0.05,
			"minCutSignificance" : 3.0,
			"nTrees" : 1000,
			"targetVariable" : "-Boson_Pt/PhiCorrectedRecoil_LongZ",
			"trainingVariables" : 
				[	
				"PhiCorrectedRecoil_Phi",
			"recoilpatpfMETT1_Pt",
			"recoilpatpfMETT1_Phi",
			"recoilpatpfMETT1_sumEt",
			"recoilslimmedMETsPuppi_Pt",
			"recoilslimmedMETsPuppi_Phi",
			"recoilslimmedMETsPuppi_sumEtFraction",
			"recoilpatpfTrackMET_Pt",
			"recoilpatpfTrackMET_Phi",
			"recoilpatpfTrackMET_sumEtFraction",
			"recoilpatpfPUMET_Pt",
			"recoilpatpfPUMET_Phi",
			"recoilpatpfPUMET_sumEtFraction",
			"recoilpatpfNoPUMET_Pt",
			"recoilpatpfNoPUMET_Phi",
			"recoilpatpfNoPUMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_Pt",
			"recoilpatpfPUCorrectedMET_Phi",
			"Jet0_Pt", "Jet0_Eta", "Jet0_Phi",
			"Jet1_Pt", "Jet1_Eta", "Jet1_Phi",
			"NCleanedJets",
			"NVertex"
				]
		},
		"CovU1":
		{
			"mode" : 3,
			"friends" : ["LongZCorrectedRecoil"],
			"desc" : "Cov1 training",
			"apply_MVA_to" : "LongZCorrectedRecoil",
			"weight" : "(nCombinations==1)&&(select)&&((Boson_Pt/LongZCorrectedRecoil_Pt)<5)",
			"name" : "CovU1",
			"folder" : "Flat",
			"minEvents" : 250,
			"shrinkage" : 0.05,
			"minCutSignificance" : 3.0,
			"targetVariable" : "std::abs(Boson_Pt*cos(Boson_Phi-LongZCorrectedRecoil_Phi-TMath::Pi())-LongZCorrectedRecoil_Pt)/LongZCorrectedRecoil_Pt*sqrt(TMath::Pi()/2.)",
			"nTrees" : 1000,
			"trainingVariables" : 
				[	
				"LongZCorrectedRecoil_Phi",
			"LongZCorrectedRecoil_Pt",
			"recoilpatpfMETT1_Pt",
			"recoilpatpfMETT1_Phi",
			"recoilpatpfMETT1_sumEt",
			"recoilslimmedMETsPuppi_Pt",
			"recoilslimmedMETsPuppi_Phi",
			"recoilslimmedMETsPuppi_sumEtFraction",
			"recoilpatpfTrackMET_Pt",
			"recoilpatpfTrackMET_Phi",
			"recoilpatpfTrackMET_sumEtFraction",
			"recoilpatpfPUMET_Pt",
			"recoilpatpfPUMET_Phi",
			"recoilpatpfPUMET_sumEtFraction",
			"recoilpatpfNoPUMET_Pt",
			"recoilpatpfNoPUMET_Phi",
			"recoilpatpfNoPUMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_Pt",
			"recoilpatpfPUCorrectedMET_Phi",
			"Jet0_Pt", "Jet0_Eta", "Jet0_Phi",
			"Jet1_Pt", "Jet1_Eta", "Jet1_Phi",
			"NCleanedJets",
			"NVertex"
				]
		},
		"CovU2":
		{
			"mode" : 3,
			"friends" : ["LongZCorrectedRecoil"],
			"desc" : "Cov2 training",
			"apply_MVA_to" : "LongZCorrectedRecoil",
			"weight" : "(nCombinations==1)&&(select)&&((Boson_Pt/LongZCorrectedRecoil_Pt)<5)",
			"name" : "CovU2",
			"folder" : "Flat",
			"minEvents" : 250,
			"shrinkage" : 0.05,
			"minCutSignificance" : 3.0,
			"nTrees" : 1000,
			"targetVariable" : "std::abs(Boson_Pt*sin(Boson_Phi-LongZCorrectedRecoil_Phi))*sqrt(TMath::Pi()/2.)/LongZCorrectedRecoil_Pt",
			"trainingVariables" : 
				[	
				"LongZCorrectedRecoil_Phi",
			"LongZCorrectedRecoil_Pt",
			"recoilpatpfMETT1_Pt",
			"recoilpatpfMETT1_Phi",
			"recoilpatpfMETT1_sumEt",
			"recoilslimmedMETsPuppi_Pt",
			"recoilslimmedMETsPuppi_Phi",
			"recoilslimmedMETsPuppi_sumEtFraction",
			"recoilpatpfTrackMET_Pt",
			"recoilpatpfTrackMET_Phi",
			"recoilpatpfTrackMET_sumEtFraction",
			"recoilpatpfPUMET_Pt",
			"recoilpatpfPUMET_Phi",
			"recoilpatpfPUMET_sumEtFraction",
			"recoilpatpfNoPUMET_Pt",
			"recoilpatpfNoPUMET_Phi",
			"recoilpatpfPUCorrectedMET_sumEtFraction",
			"recoilpatpfPUCorrectedMET_Pt",
			"recoilpatpfPUCorrectedMET_Phi",
			"recoilpatpfNoPUMET_sumEtFraction",
			"Jet0_Pt", "Jet0_Eta", "Jet0_Phi",
			"Jet1_Pt", "Jet1_Eta", "Jet1_Phi",
			"NCleanedJets",
			"NVertex"
				]
		},
		"CovApply" : {
			"mode" : -1,
			"friends" : ["LongZCorrectedRecoil", "CovU1", "CovU2"],
			"desc" : "Covariance Matrix",
			"apply_MVA_to" : "LongZCorrectedRecoil",
			"name" : "CovApply"
		}

}
